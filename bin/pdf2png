
mkdir -p uploads

# using inkscape --export-png directly from the .svg file produces a full size
# page image, which has to be cropped manually.  It also ends up fairly small
# (which is perhaps image dependent).
#
# Can work around this by using --export-eps instead, then epstopdf, then
# --export-png from that image.  
#
# The resulting png shows up with a checker board pattern in windows
# explorer on double click (may be google image viewer),
# but this is just a viewer artifact to indicate transparency:
#
#  http://www.inkscapeforum.com/viewtopic.php?f=5&t=12503&p=46996&hilit=checker+board#p46996
#
# the final resulting image is cropped properly, and displays decently in a wordpress post (when the svg file was originally generated by Mathematica:
#  Export[ "...", filename.svg ]
# Why do all these steps.  have just one file (.svg) that both the pdf's that 
# I use in pdflatex images is generated from, as well as any images for 
# wordpress posts.  If that svg file is altered (either by re-saving with 
# Export[], or by editing after the fact in inkscape, then both pairs of
# resulting images can be regenerated automatically).

for i in $* ; do
   f=`echo $i | cut -f1 -d.`
   #e=`echo $i | cut -f2 -d.`
   "/cygdrive/c/Program Files (x86)/Inkscape/inkscape.exe" $i --export-png=uploads/$f.png
done
